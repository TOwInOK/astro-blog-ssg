---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import BaseHead from "@components/BaseHead.astro";
import FormattedDate from "@components/FormattedDate.astro";
import Header from "@components/Header.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
    <head>
        <BaseHead title={title} description={description} />
    </head>

    <body>
        <Header />
        <main class="mx-auto max-w-3xl px-4 py-12">
            <article>
                {
                    heroImage && (
                        <Image
                            width={1020}
                            height={510}
                            src={heroImage}
                            alt=""
                            class="aspect-6/3 mb-2 rounded-xl w-full transition duration-200 ease-in-out shadow-2xl shadow-accent"
                        />
                    )
                }
                <div
                    class="prose prose-neutral prose-img:rounded-xl lg:prose-lg xl:prose-xl mx-auto"
                >
                    <div class="text-center">
                        <div class="text-gray-400 pt-2">
                            <FormattedDate date={pubDate} />
                            {
                                updatedDate && (
                                    <div class="italic">
                                        Last updated on{" "}
                                        <FormattedDate date={updatedDate} />
                                    </div>
                                )
                            }
                        </div>
                        <h1>{title}</h1>
                        <hr />
                    </div>
                    <slot />
                </div>
            </article>
        </main>
    </body>
</html>
